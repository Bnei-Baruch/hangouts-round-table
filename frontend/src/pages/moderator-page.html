<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../layouts/header-layout.html">
<link rel="import" href="../components/app-config/app-config.html" />
<link rel="import" href="../components/user-auth/user-auth.html" />
<link rel="import" href="../components/table-list/table-list.html" />
<link rel="import" href="../components/webdis-chat/webdis-chat.html" />

<polymer-element name="moderator-page" noscript>
  <template>
    <header-layout header="Moderator">
      <app-config id="config"></app-config>
      <user-auth id="moderator"></user-auth>
      <template if="{{ $.moderator.loggedIn }}">
        <style>
          #table-list {
            float: left;
            width: 33%;
          }
          #chat-admin {
            float: right;
            width: 33%;
            height: 99%;
            display: block;
          }
          #inner-chat {
            float: right;
            width: 34%;
            height: 99%;
            display: block;
          }
        </style>
        <div id="table-list">
          <a style="font-size: x-large;" href="{{ $.config.backendUrl }}/spaces/{{ $.moderator.space }}/tables/{{ $.moderator.language }}/moderated" target=_blank"">
            Create moderated table
          </a>
          <h1>List of tables:</h1>
          <table-list space="{{ $.moderator.space }}"></table-list>
        </div>
        <div id="inner-chat">
          <h1>Moderators chat</h1>
          <webdis-chat space="{{ $.moderator.space }}.inner" autoApprove="true"></webdis-chat>
        </div>
        <div id="chat-admin">
          <h1>Students chat moderation</h1>
          <webdis-chat space="{{ $.moderator.space }}" isAdmin="true"></webdis-chat>
        </div>
      </template>
    </header-layout>
  </template>
</polymer-element>
