<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../translation-viewer/translation-viewer.html">
<link rel="import" href="../update-table/update-table.html" />
<link rel="import" href="../webdis-chat/webdis-chat.html" />
<link rel="import" href="../viewer-heartbeat/viewer-heartbeat.html">
<link rel="import" href="../app-config/app-config.html" />

<polymer-element name="hangouts-participant">
  <template>
    <app-config id="config"></app-config>
    <update-table id="table"></update-table>
    <template if="{{ $.table.isReady }}">
      <style>
        translation-viewer, #noViewer {
          color: #fff;
          width: 66%;
          float: left;
          height: 100%;
          background: #181818;
        }
        webdis-chat {
          width: 33%;
          float: left;
          height: 100%;
        }
      </style>
      <template if="{{ !$.table.appData.is_focus_group }}">
        <translation-viewer
          id="viewer"
          space="{{ $.table.appData.space }}"
          language="{{ $.table.appData.language }}"
          on-instructor-resumed="{{mute}}"
          on-instructor-paused="{{hide}}">
        </translation-viewer>
      </template>
      <template if="{{ $.table.appData.is_focus_group }}">
        <div id="noViewer">
          <template if="{{ $.table.appData.language === 'ru' }}">
            Это фокус-группа, видео студии не показывается.
          </template>
          <template if="{{ $.table.appData.language !== 'ru' }}">
            This is a focus group, the instructor video is not displayed.
          </template>
        </div>
      </template>
      <viewer-heartbeat viewerId="viewer" space="{{ $.table.appData.space }}"></viewer-heartbeat>
      <webdis-chat
         space="{{ $.table.appData.space }}"
         isAdmin="false"
         fromName="{{ $.table.displayName }}">
      </webdis-chat>
    </template>
  </template>

  <script src="hangouts-participant.js"></script>
</polymer-element>
